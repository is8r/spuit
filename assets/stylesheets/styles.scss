@import "../../spuit";
@import "../../scss/includes/grid";
@import "../../scss/components/wrap";
@import "../../scss/components/wordwrap-fadeout";
@import "../../scss/components/triangle";

@import "styles/config/variables";
@import "styles/config/mixins";

@include include-animations;
@include include-normalize;
@include include-grid;
@include include-spacers;

// basic styles

html {
  font-size: 100%;
  -webkit-scroll-behavior: smooth;
  scroll-behavior: smooth;

  @include breakpoint-down(md) {
    font-size: 90%;
  }
}

body {
  @include font(1rem);
  color: $color-black;
}

a {
  color: $color-blue;
  text-decoration: underline;

  &:hover {
    color: darken($color-blue, 10%);
  }

  &:active {
    outline: 3px solid rgba($color-blue, 0.2);
  }
}

// demo styles

.demo-block {
  color: $color-black;

  + .demo-block {
    margin-top: 6rem;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    &:first-child {
      margin-top: 0;
    }
  }

  h1 {
    @include font(2.8rem, 1, bold);
  }
  h2 {
    @include font(2rem, 1, bold);
  }
  h3 {
    @include font(1.6rem, 1, bold);
  }
  h4 {
    @include font(1.5rem, 1, bold);
  }
  h5 {
    @include font(1.3rem, 1, bold);
  }
  h6 {
    @include font(1.2rem, 1, bold);
  }
  p {
    @include font(1rem);
  }
  form {
    @include font(1rem);
  }
  input[type="text"] {
    @include input;
  }
  textarea {
    @include input;
    line-height: 1.6rem;
    height: 120px;
  }
  legend {
    @include font(inherit);
  }
  .radio {
    @include radio-base;
  }
  .radio-inside {
    @include radio-base(span);
  }
  .checkbox {
    @include checkbox-base;
  }
  .checkbox-inside {
    @include checkbox-base(span);
  }
  .select {
    @include select-base;
  }
  .table {
    @include table;
    margin-bottom: 10px;

    &-line {
      @include table-line;
      margin-bottom: 10px;
    }
    &-stripe {
      @include table-stripe;
      margin-bottom: 10px;
    }
  }
  .fieldset {
    @include fieldset-flex;
  }
  .button {
    @include button;
  }
  .button-semiflat {
    @include font;
    @include button-semiflat;
  }
  .button-border {
    @include font;
    @include button-border;
  }
  .button-emboss {
    @include font;
    @include button-emboss;
  }
  .button-group {
    display: flex;
    justify-content: space-between;
    > * {
      width: 100%;
      border-radius: 0;
      &:first-child {
        border-radius: 3px 0 0 3px;
      }
      &:last-child {
        border-radius: 0 3px 3px 0;
      }
    }
  }
  .switch {
    @include switch-base(38px, 20px, #529ef6, 2px);
  }
  .reset-ul {
    @include reset-ul;
  }
  .word-break {
    @include word-break;
    display: inline-block;
    width: 100px;
    background: #f8f8f8;
    padding: 10px;
  }
  .word-break-none {
    @include word-break(false);
    display: inline-block;
    width: 100px;
    background: #f8f8f8;
    padding: 10px;
  }
  .text-overflow {
    @include text-overflow();
    display: inline-block;
    width: 100px;
    background: #f8f8f8;
    padding: 10px;
  }

  .icon-twitter {
    @include icon-twitter;
  }
  .icon-facebook {
    @include icon-facebook;
  }
  .icon-hatena {
    @include icon-hatena;
  }
  .icon-hamburger {
    @include icon-hamburger;
  }

  .icon-svg {
    &::before {
      content: "";
      @include background-map-svg($map-svg-star);
    }
  }

  .wordwrap-fadeout {
    @include wordwrap-fadeout;
  }

  .triangle-container {
    @include triangle(#2dd, 10px, 15px, 0, 50%, "left", "after");
    // @include triangle(#2dd, 15px, 10px, 50%, 0, "down", "after");

    display: inline-block;
    width: 30px;
    height: 30px;
    background-color: #ddd;
  }
}

// layouts

$width-sidebar: 10rem;

label[for="hamburger"].hamburger {
  @include breakpoint-up(md) {
    display: none;
  }
  @include breakpoint-down(md) {
    line-height: 1;
    margin: 0;
    padding: 0;
    display: inline-block;
    vertical-align: middle;
    cursor: pointer;
    position: fixed;
    z-index: 99;

    .icon-hamburger {
      @include icon-hamburger;
      z-index: 2;
      position: fixed;
    }

    &::after {
      content: "";
      display: none;
      position: fixed;
      top: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(#ddd, 0.5);
    }
  }
}

// hamburger + sidebar

input[type="checkbox"]#hamburger {
  display: none;

  @include breakpoint-down(md) {
    + main {
      .l-sidebar {
        margin-left: -$width-sidebar;
        transition: all 0.2s ease-out;
      }
    }

    &:checked + main {
      overflow: hidden;

      .l-sidebar {
        margin-left: 0;
      }

      label[for="hamburger"].hamburger {
        &::after {
          display: block;
        }
      }
    }
  }
}

.l-container {
  display: flex;

  .l-sidebar {
    flex: 0 0 $width-sidebar;
  }

  .l-content {
    min-width: 20rem;
    flex-grow: 1;
  }
}

//--------------------
// page design

.sidebar {
  position: sticky;
  top: 0;
  padding: 1rem;

  h1 {
    @include font(1rem);
    margin-top: 0.5rem;
    padding: 0 1rem;
  }

  ul {
    @include reset-ul;
    display: block;

    li {
      display: block;
    }
  }

  a {
    @include font(0.875rem);
    display: block;
    padding: 0.5rem 1rem;
  }
}

.content {
  padding: 1.5rem 2rem;
}

.hidden {
  display: none;
}

.title {
  font-size: 2.5rem !important;
  font-weight: 100 !important;
}
